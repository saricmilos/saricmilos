<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PFQVV6K2BN"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-PFQVV6K2BN');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Park Transformation | Miloš Sarić</title>
    <meta name="description" content="Interactive Park Transformation visualization for power systems analysis by Miloš Sarić.">
    
    <!-- Favicon -->
    <link rel="icon" href="../favicon.ico">
    
    <!-- CSS Links with version parameters -->
    <link rel="stylesheet" href="../css/ResetandNormalize.css?v=1.0">
    <link rel="stylesheet" href="../css/main.css?v=1.0">
    <link rel="stylesheet" href="../parktransformation/style.css?v=1.0">
    
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Chart.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    
    <!-- MathJS library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
    
    <!-- MathJax for LaTeX rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <!-- Navigation Header -->
    <header class="site-header">
        <div class="container">
            <nav class="main-nav">
                <div class="logo">
                    <a href="../index.html">Miloš Sarić</a>
                </div>
                <ul class="nav-menu">
                    <li><a href="../about/index.html">About</a></li>
                    <li><a href="../projects/index.html">Projects</a></li>
                    <li><a href="../contact/index.html">Contact</a></li>
                    <li><a href="../rememberingdad/index.html">Remembering Dad</a></li>
                </ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero park-hero">
        <div class="container">
            <h1>Park Transformation<br>// visual exploration</h1>
            <p class="hero-subtitle">Interactive visualization demonstrating the rotating reference frame transformation for advanced power systems analysis</p>
        </div>
    </section>

    <!-- Introduction Section -->
    <section class="introduction-section">
        <div class="container">
            <div class="intro-content">
                <h2 class="section-title">Understanding the Park Transformation</h2>
                <p>The Park transformation (also known as the dq0 transformation) is an extension of the Clarke transformation that introduces a rotating reference frame. It converts three-phase quantities into direct (d), quadrature (q), and zero (0) components, simplifying the analysis of AC machines and power systems.</p>
                <p>This transformation is fundamental in electric drive control, grid-connected converters, and power system stability analysis. By aligning the reference frame with the synchronous speed, AC quantities become DC-like values, making control design significantly simpler.</p>
            </div>
        </div>
    </section>

    <!-- Interactive Park Transformation Tool -->
    <section class="park-simulation-section">
        <div class="container">
            <h2 class="section-title">Interactive Park Transformation</h2>
            
            <!-- Control Panel -->
            <div class="control-panel">
                <div class="tab-container">
                    <div class="tab-header">
                        <button class="tab-button active" data-tab="harmonics">Harmonic Controls</button>
                        <button class="tab-button" data-tab="settings">Settings</button>
                    </div>
                    
                    <!-- Harmonics Tab -->
                    <div class="tab-content active" id="harmonics-tab">
                        <div class="slider-group">
                            <label for="fundamental-amplitude">Fundamental Amplitude</label>
                            <div class="slider-with-value">
                                <input type="range" id="fundamental-amplitude" min="0" max="1" step="0.1" value="1.0">
                                <span id="fundamental-value">1.0</span>
                            </div>
                            <div class="checkbox-control">
                                <input type="checkbox" id="show-fundamental" checked>
                                <label for="show-fundamental">Show Fundamental</label>
                            </div>
                        </div>
                        
                        <div class="slider-group">
                            <label for="third-harmonic-amplitude">3rd Harmonic Amplitude</label>
                            <div class="slider-with-value">
                                <input type="range" id="third-harmonic-amplitude" min="0" max="1" step="0.05" value="0.2">
                                <span id="third-harmonic-value">0.2</span>
                            </div>
                            <div class="checkbox-control">
                                <input type="checkbox" id="show-third-harmonic" checked>
                                <label for="show-third-harmonic">Show 3rd Harmonic</label>
                            </div>
                        </div>
                        
                        <div class="slider-group">
                            <label for="fifth-harmonic-amplitude">5th Harmonic Amplitude</label>
                            <div class="slider-with-value">
                                <input type="range" id="fifth-harmonic-amplitude" min="0" max="1" step="0.05" value="0.1">
                                <span id="fifth-harmonic-value">0.1</span>
                            </div>
                            <div class="checkbox-control">
                                <input type="checkbox" id="show-fifth-harmonic">
                                <label for="show-fifth-harmonic">Show 5th Harmonic</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Settings Tab -->
                    <div class="tab-content" id="settings-tab">
                        <div class="slider-group">
                            <label for="frequency-control">Frequency (Hz)</label>
                            <div class="slider-with-value">
                                <input type="range" id="frequency-control" min="10" max="100" step="5" value="50">
                                <span id="frequency-value">50 Hz</span>
                            </div>
                        </div>
                        
                        <button id="reset-button" class="button button-secondary">Reset All Values</button>
                    </div>
                </div>
                
                <button id="update-graphs" class="button button-primary">Update Visualization</button>
            </div>
            
            <!-- Visualization Area -->
            <div class="visualization-area">
                <div class="chart-row">
                    <div class="chart-container">
                        <h3>Three-Phase Waveforms (ABC)</h3>
                        <div class="chart-wrapper">
                            <canvas id="abc-waveforms"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3>Clarke Components (αβ0)</h3>
                        <div class="chart-wrapper">
                            <canvas id="clarke-waveforms"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <h3>Park Components (dq0)</h3>
                        <div class="chart-wrapper">
                            <canvas id="park-waveforms"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3>Alpha-Beta Trajectory</h3>
                        <div class="chart-wrapper">
                            <canvas id="alpha-beta-plot"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <h3>D-Q Trajectory</h3>
                        <div class="chart-wrapper">
                            <canvas id="dq-plot"></canvas>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3>Phase A Components</h3>
                        <div class="chart-wrapper">
                            <canvas id="phase-a-components"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="chart-row">
                    <div class="chart-container">
                        <h3>Harmonic Spectrum</h3>
                        <div class="chart-wrapper">
                            <canvas id="harmonic-spectrum"></canvas>
                        </div>
                    </div>
                    <div class="chart-grid">
                        <div class="chart-container half-width">
                            <h3>Phase B Components</h3>
                            <div class="chart-wrapper">
                                <canvas id="phase-b-components"></canvas>
                            </div>
                        </div>
                        <div class="chart-container half-width">
                            <h3>Phase C Components</h3>
                            <div class="chart-wrapper">
                                <canvas id="phase-c-components"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mathematical Background Section -->
    <section class="mathematical-section">
        <div class="container">
            <h2 class="section-title">Mathematical Background</h2>
            
            <div class="math-explanation">
                <div class="explanation-block">
                    <h3>Clarke Transformation Matrix</h3>
                    <div id="clarke-explanation-container" class="explanation-container">
                        <button id="clarke-explanation-toggle" class="button button-tertiary">Show Explanation</button>
                        <div id="clarke-explanation-content" class="explanation-content">
                            <p>The Clarke transformation is the first step in the Park transformation process. It converts three-phase quantities into stationary two-phase orthogonal components plus a zero component:</p>
                            <div id="clarke-matrix"></div>
                            <p>This transformation preserves power between the reference frames when using the power invariant form.</p>
                        </div>
                    </div>
                </div>
                
                <div class="explanation-block">
                    <h3>Park Transformation (Rotating Reference Frame)</h3>
                    <div id="park-explanation-container" class="explanation-container">
                        <button id="park-explanation-toggle" class="button button-tertiary">Show Explanation</button>
                        <div id="park-explanation-content" class="explanation-content">
                            <p>The Park transformation takes the stationary αβ0 components and applies a rotation to align with a rotating reference frame:</p>
                            <div id="park-transform"></div>
                            <p>When the electrical angle θ = ωt is synchronized with the system frequency, balanced sinusoidal three-phase quantities become DC values in the dq reference frame, greatly simplifying control system design.</p>
                        </div>
                    </div>
                </div>
                
                <div class="explanation-block">
                    <h3>Fourier Series Representation</h3>
                    <div id="harmonics-explanation-container" class="explanation-container">
                        <button id="harmonics-explanation-toggle" class="button button-tertiary">Show Explanation</button>
                        <div id="harmonics-explanation-content" class="explanation-content">
                            <p>The current three-phase system is represented as a Fourier series with fundamental, third, and fifth harmonic components:</p>
                            <div id="fourier-explanation" class="math-content"></div>
                            <p>Note how harmonics of different orders transform differently in the dq reference frame:</p>
                            <ul>
                                <li>Positive sequence (fundamental) → DC values</li>
                                <li>Zero sequence (3rd harmonic) → 3rd harmonic in zero component</li>
                                <li>Negative sequence (5th harmonic) → 6th harmonic in dq components</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Export Tools Section -->
    <section class="export-section">
        <div class="container">
            <h2 class="section-title">Export & Analysis Tools</h2>
            
            <div class="export-tools">
                <div class="export-group">
                    <h3>Export Charts</h3>
                    <div class="export-buttons">
                        <button class="export-chart-btn button button-tertiary" data-chart="abc-waveforms">Export ABC Chart</button>
                        <button class="export-chart-btn button button-tertiary" data-chart="clarke-waveforms">Export Clarke Chart</button>
                        <button class="export-chart-btn button button-tertiary" data-chart="park-waveforms">Export Park Chart</button>
                        <button class="export-chart-btn button button-tertiary" data-chart="dq-plot">Export DQ Plot</button>
                    </div>
                </div>
                
                <div class="export-group">
                    <h3>Export Data</h3>
                    <button id="export-data-btn" class="button button-secondary">Export Simulation Data (JSON)</button>
                </div>
            </div>
        </div>
    </section>

    <!-- PDF Download Section -->
    <section class="pdf-download-section">
        <div class="container">
            <h2 class="section-title">Get Detailed Explanation</h2>
            <div class="download-content">
                <div class="download-info">
                    <h3>Download the Complete Guide</h3>
                    <p>Enter your email to receive a comprehensive PDF explaining the Park Transformation, including:</p>
                    <ul>
                        <li>Mathematical derivation and proofs</li>
                        <li>Relationship with Clarke transformation</li>
                        <li>Application in motor control and grid-connected converters</li>
                        <li>Implementation techniques for digital control systems</li>
                    </ul>
                </div>
                <div class="download-form">
                    <form id="pdf-download-form">
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" placeholder="your.email@example.com" required>
                        </div>
                        <div class="consent-checkbox">
                            <input type="checkbox" id="consent" name="consent" required>
                            <label for="consent">I agree to receive the PDF and occasional educational content about power systems.</label>
                        </div>
                        <button type="submit" class="button button-primary">Download PDF</button>
                    </form>
                    <div id="form-success" class="form-message success">
                        Thank you! The PDF has been sent to your email.
                    </div>
                    <div id="form-error" class="form-message error">
                        An error occurred. Please try again later.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="social-links">
                    <a href="https://www.linkedin.com/in/milos-saric-753772237/" aria-label="LinkedIn"></a>
                </div>
                <p class="copyright">Copyright © <span id="current-year">2025</span> Miloš Sarić. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="parktransformation.js"></script>
    <script src="java.js"></script>
</body>
</html>